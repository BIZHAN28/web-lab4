{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../auth/token-storage.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/menu\";\nconst _c0 = () => [\"/login\"];\nfunction NavbarComponent_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵtext(1, \" Login \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nconst _c1 = () => [\"/register\"];\nfunction NavbarComponent_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵtext(1, \" Sign up \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\nfunction NavbarComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-menu\", null, 15)(5, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_div_16_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵtext(6, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(4);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.info.username);\n  }\n}\nconst _c2 = () => [\"/home\"];\nconst _c3 = () => [\"/main\"];\nexport class NavbarComponent {\n  constructor(token) {\n    this.token = token;\n  }\n  ngOnInit() {\n    this.info = {\n      token: this.token.getToken(),\n      username: this.token.getUsername() != null ? this.token.getUsername() : \"Anonymous\"\n    };\n  }\n  logout() {\n    this.token.signOut();\n    window.location.reload();\n  }\n  static #_ = this.ɵfac = function NavbarComponent_Factory(t) {\n    return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.TokenStorageService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavbarComponent,\n    selectors: [[\"app-navbar\"]],\n    decls: 17,\n    vars: 7,\n    consts: [[1, \"navbar\", \"navbar-expand-lg\", 2, \"background-color\", \"darkred\"], [\"href\", \"https://se.ifmo.ru/courses/web\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"mr-auto\"], [1, \"nav-item\"], [1, \"nav-link\", 3, \"routerLink\"], [1, \"d-flex\", \"align-items-center\"], [\"type\", \"button\", \"class\", \"btn btn-link px-3 me-2\", 3, \"routerLink\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-primary me-3\", 3, \"routerLink\", 4, \"ngIf\"], [4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", \"px-3\", \"me-2\", 3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"me-3\", 3, \"routerLink\"], [\"mat-button\", \"\", 1, \"navbar-btn\", \"btn-link\", \"px-3\", \"me-2\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", 3, \"click\"]],\n    template: function NavbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0)(1, \"a\", 1);\n        i0.ɵɵtext(2, \"web-lab4\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵelement(4, \"span\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"ul\", 5)(7, \"li\", 6)(8, \"a\", 7);\n        i0.ɵɵtext(9, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"li\", 6)(11, \"a\", 7);\n        i0.ɵɵtext(12, \"Main\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵtemplate(14, NavbarComponent_button_14_Template, 2, 2, \"button\", 9)(15, NavbarComponent_button_15_Template, 2, 2, \"button\", 10)(16, NavbarComponent_div_16_Template, 7, 2, \"div\", 11);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c2));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c3));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.info.token);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", !ctx.info.token);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.info.token);\n      }\n    },\n    dependencies: [i2.NgIf, i3.RouterLink, i4.MatButton, i5.MatMenu, i5.MatMenuItem, i5.MatMenuTrigger],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction0","_c0","_c1","ɵɵlistener","NavbarComponent_div_16_Template_button_click_5_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","logout","ɵɵadvance","_r3","ɵɵtextInterpolate","ctx_r2","info","username","NavbarComponent","constructor","token","ngOnInit","getToken","getUsername","signOut","window","location","reload","_","ɵɵdirectiveInject","i1","TokenStorageService","_2","selectors","decls","vars","consts","template","NavbarComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","NavbarComponent_button_14_Template","NavbarComponent_button_15_Template","NavbarComponent_div_16_Template","_c2","_c3"],"sources":["D:\\study things\\web\\weblab4-main\\frontend\\src\\app\\component\\navbar\\navbar.component.ts","D:\\study things\\web\\weblab4-main\\frontend\\src\\app\\component\\navbar\\navbar.component.html"],"sourcesContent":["import {Component} from '@angular/core';\nimport {TokenStorageService} from \"../../auth/token-storage.service\";\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent {\n  info: any;\n\n  constructor(private token: TokenStorageService) {\n  }\n\n  ngOnInit(): void {\n    this.info = {\n      token: this.token.getToken(),\n      username: this.token.getUsername() != null ? this.token.getUsername() : \"Anonymous\"\n    };\n  }\n\n  logout() {\n    this.token.signOut();\n    window.location.reload();\n  }\n}\n","<nav class=\"navbar navbar-expand-lg\" style=\"background-color: darkred\">\n  <a class=\"navbar-brand\" href=\"https://se.ifmo.ru/courses/web\">web-lab4</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\"\n          aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n\n  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n    <ul class=\"navbar-nav mr-auto\">\n\n\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" [routerLink]=\"['/home']\">Home</a>\n      </li>\n\n\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" [routerLink]=\"['/main']\">Main</a>\n      </li>\n\n\n    </ul>\n    <div class=\"d-flex align-items-center\">\n      <button type=\"button\" class=\"btn btn-link px-3 me-2\" *ngIf=\"!info.token\" [routerLink]=\"['/login']\">\n        Login\n      </button>\n      <button type=\"button\" class=\"btn btn-primary me-3\" *ngIf=\"!info.token\" [routerLink]=\"['/register']\">\n        Sign up\n      </button>\n\n      <div *ngIf=\"info.token\">\n        <button mat-button [matMenuTriggerFor]=\"menu\" class=\"navbar-btn btn-link px-3 me-2\">{{info.username}}</button>\n        <mat-menu #menu=\"matMenu\">\n          <button mat-menu-item (click)=\"logout()\">Logout</button>\n        </mat-menu>\n      </div>\n\n    </div>\n\n\n  </div>\n</nav>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}